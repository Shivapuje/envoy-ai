# Envoy AI

**Your Personal Chief of Staff** ‚Äî An AI-powered workspace that orchestrates multiple specialized agents to manage your digital life.

**Author:** Vinayak Shivapuje

## üéØ Vision

Envoy AI is a **model-agnostic multi-agent orchestration platform** where specialized AI agents work together in harmony. Each agent is an expert in its domain ‚Äî triaging emails, extracting financial data, managing calendars, advising on investments ‚Äî and they communicate seamlessly to automate complex workflows.

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        ENVOY AI                                 ‚îÇ
‚îÇ                   Agent Orchestration Layer                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                 ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ   ‚îÇ Email Agent ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇFinance Agent‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇCalendar Agent‚îÇ       ‚îÇ
‚îÇ   ‚îÇ (Groq/Llama)‚îÇ    ‚îÇ (Groq/Llama)‚îÇ    ‚îÇ  (OpenAI)   ‚îÇ        ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ          ‚îÇ                  ‚îÇ                  ‚îÇ                ‚îÇ
‚îÇ          ‚ñº                  ‚ñº                  ‚ñº                ‚îÇ
‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ   ‚îÇ   Inbox     ‚îÇ    ‚îÇ  Finance    ‚îÇ    ‚îÇ  Planner    ‚îÇ        ‚îÇ
‚îÇ   ‚îÇ   (UI)      ‚îÇ    ‚îÇ   (UI)      ‚îÇ    ‚îÇ   (UI)      ‚îÇ        ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## ‚ú® Features

### ü§ñ Multi-Agent Orchestration

| Agent | Model | Purpose | Status |
|-------|-------|---------|--------|
| **Email Triage** | Groq (Llama 3.3 70B) | Categorize, summarize, extract action items | ‚úÖ Active |
| **Finance** | Groq (Llama 3.3 70B) | Extract transactions from bank emails | ‚úÖ Active |
| **Calendar** | *Configurable* | Parse events, schedule meetings | üöß Planned |
| **Investment Advisor** | *Configurable* | Portfolio analysis, market insights | üöß Planned |
| **Tax Advisor** | *Configurable* | Tax-related email classification, deduction tracking | üöß Planned |
| **Travel Planner** | *Configurable* | Itinerary extraction, booking confirmations | üöß Planned |
| **Newsletter Curator** | *Configurable* | Summarize, highlight key articles | üöß Planned |
| **Bill Reminder** | *Configurable* | Due date extraction, payment alerts | üöß Planned |

### üß† Model-Agnostic Architecture

Powered by **LiteLLM**, Envoy supports any LLM provider with a unified API:

```python
MODEL_CONFIG = {
    "email_triage": "groq/llama-3.3-70b-versatile",  # Fast, free
    "finance": "groq/llama-3.3-70b-versatile",       # Accurate extraction
    "calendar": "openai/gpt-4o",                      # Complex reasoning
    "investment": "anthropic/claude-3-opus",          # Deep analysis
}
```

**Supported Providers:**
- ‚úÖ Groq (Free, fast inference)
- ‚úÖ OpenAI (GPT-4o, GPT-3.5)
- ‚úÖ Anthropic (Claude 3)
- ‚úÖ Google (Gemini)
- ‚úÖ Local models via Ollama
- ‚úÖ 100+ more via LiteLLM

### üîÑ Agent Communication

Agents hand off work to each other:

```
Email arrives ‚Üí Email Agent categorizes as "Finance"
                     ‚Üì
              Finance Agent extracts transaction
                     ‚Üì
              Transaction saved to database
                     ‚Üì
              Dashboard updated in real-time
```

### üé® Modern UI

- **Dark glassmorphism design** with consistent theming
- **Dashboard** with pending tasks, quick actions, agent status
- **Inbox** with category filters, pending/processed views, email detail modal
- **Finance tracker** with transaction table, stats
- **Agents page** with flow visualization, execution logs, model configuration
- **Responsive** sidebar navigation

## üöÄ Getting Started

### Prerequisites

- Python 3.11+
- Node.js 18+
- A Groq API key (free at [console.groq.com](https://console.groq.com))

### Quick Start

```bash
# Clone the repository
git clone https://github.com/your-username/envoy-ai.git
cd envoy-ai

# Backend setup
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt

# Configure environment
cp .env.example .env
# Add your GROQ_API_KEY to .env

# Start backend
uvicorn app.main:app --host 0.0.0.0 --port 8000

# Frontend setup (new terminal)
cd frontend
npm install
npm run dev
```

**Open:** http://localhost:3000

### Environment Variables

```env
# Required: At least one LLM provider
GROQ_API_KEY=gsk_...        # Recommended (free tier)
OPENAI_API_KEY=sk-...       # Optional
ANTHROPIC_API_KEY=sk-ant-...# Optional

# Email (for IMAP sync)
IMAP_SERVER=imap.gmail.com
EMAIL_USER=your@email.com
EMAIL_PASS=your-app-password
```

## üìÅ Project Structure

```
envoy-ai/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/              # REST endpoints
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email.py      # Email sync, analyze
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finance.py    # Transactions
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agent_logs.py # Agent execution logs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/             # Config, models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/         # Agent implementations
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email/agent.py
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ finance/agent.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai_engine.py  # LiteLLM orchestration
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ email_collector.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py         # Database models
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt
‚îÇ
‚îî‚îÄ‚îÄ frontend/
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ app/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx      # Dashboard
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ email/        # Inbox with detail modal
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ finance/      # Finance tracker
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ agents/       # Agent logs & flows
    ‚îÇ   ‚îî‚îÄ‚îÄ components/
    ‚îÇ       ‚îú‚îÄ‚îÄ layout/sidebar.tsx
    ‚îÇ       ‚îî‚îÄ‚îÄ ui/glass/     # Design system
    ‚îî‚îÄ‚îÄ package.json
```

## üîß Adding a New Agent

1. **Create the agent** in `backend/app/features/`:

```python
# backend/app/features/calendar/agent.py
from crewai import Agent, Task, Crew

def create_calendar_agent():
    return Agent(
        role="Calendar Manager",
        goal="Extract events, dates, and scheduling info",
        backstory="Expert at parsing meeting invites and calendar events",
        verbose=True
    )
```

2. **Register in AI Engine**:

```python
# backend/app/services/ai_engine.py
MODEL_CONFIG = {
    # ... existing
    "calendar": "openai/gpt-4o",
}

def run_calendar_agent(self, text: str) -> dict:
    # Implementation
```

3. **Add API endpoint**:

```python
# backend/app/api/calendar.py
@router.post("/parse-event")
async def parse_event(text: str):
    return ai_engine.run_calendar_agent(text)
```

4. **Create frontend page**:

```tsx
// frontend/src/app/planner/page.tsx
export default function PlannerPage() {
  // Implementation
}
```

## üéØ Roadmap

### Phase 1: Foundation ‚úÖ
- [x] Email Agent (triage + categorization)
- [x] Finance Agent (transaction extraction)
- [x] LiteLLM multi-model support
- [x] IMAP email sync
- [x] Dashboard with live stats
- [x] Agent execution logging system
- [x] Agent flow visualization page
- [x] Email detail modal with attachments

### Phase 2: Extended Agents
- [ ] Calendar Agent (event parsing)
- [ ] Investment Advisor (portfolio insights)
- [ ] Tax Advisor (deduction tracking)
- [ ] Travel Planner (itinerary extraction)

### Phase 3: Advanced Orchestration
- [ ] Agent-to-agent communication
- [ ] Workflow automation (if X then Y)
- [ ] User-defined custom agents
- [ ] Voice interface integration

### Phase 4: Intelligence Layer
- [ ] Learning from user preferences
- [ ] Proactive suggestions
- [ ] Cross-agent insights
- [ ] RAG over personal data

## üèóÔ∏è Architecture Principles

1. **Model Agnostic**: Any LLM, any provider, swappable per-agent
2. **Agent Specialization**: Each agent excels in one domain
3. **Graceful Handoff**: Agents route work to the right specialist
4. **User in Control**: Review AI decisions before actions
5. **Privacy First**: Local-first, self-hostable

## üìÑ License

MIT

---

**Built with ‚ù§Ô∏è using FastAPI, Next.js, LiteLLM, and CrewAI**
